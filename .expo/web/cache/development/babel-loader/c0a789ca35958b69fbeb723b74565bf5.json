{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/venky/Music/main/navigation/Routes.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { auth } from \"../components/Firebase/firebase\";\nimport navigationTheme from \"./navigationTheme\";\nimport AuthStack from \"./AuthStack\";\nimport AppStack from \"./AppStack\";\nimport { AuthUserContext } from \"./AuthUserProvider\";\nimport Spinner from \"../components/Spinner\";\nexport default function Routes() {\n  var _useContext = useContext(AuthUserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribeAuth = auth.onAuthStateChanged(function _callee(authUser) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(authUser ? setUser(authUser) : setUser(null));\n\n            case 3:\n              setIsLoading(false);\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    });\n    return unsubscribeAuth;\n  }, []);\n\n  if (isLoading) {\n    return React.createElement(Spinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return React.createElement(NavigationContainer, {\n    theme: navigationTheme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, user ? React.createElement(AppStack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }) : React.createElement(AuthStack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 30\n    }\n  }));\n}","map":{"version":3,"sources":["/home/venky/Music/main/navigation/Routes.js"],"names":["React","useContext","useEffect","useState","NavigationContainer","auth","navigationTheme","AuthStack","AppStack","AuthUserContext","Spinner","Routes","user","setUser","isLoading","setIsLoading","unsubscribeAuth","onAuthStateChanged","authUser","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,mBAAT,QAAoC,0BAApC;AAEA,SAASC,IAAT;AACA,OAAOC,eAAP;AACA,OAAOC,SAAP;AACA,OAAOC,QAAP;AACA,SAASC,eAAT;AACA,OAAOC,OAAP;AAEA,eAAe,SAASC,MAAT,GAAkB;AAC/B,oBAA0BV,UAAU,CAACQ,eAAD,CAApC;AAAA,MAAQG,IAAR,eAAQA,IAAR;AAAA,MAAcC,OAAd,eAAcA,OAAd;;AACA,kBAAkCV,QAAQ,CAAC,IAAD,CAA1C;AAAA;AAAA,MAAOW,SAAP;AAAA,MAAkBC,YAAlB;;AAEAb,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAMc,eAAe,GAAGX,IAAI,CAACY,kBAAL,CAAwB,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAErCA,QAAQ,GAAGL,OAAO,CAACK,QAAD,CAAV,GAAuBL,OAAO,CAAC,IAAD,CAFD;;AAAA;AAG5CE,cAAAA,YAAY,CAAC,KAAD,CAAZ;AAH4C;AAAA;;AAAA;AAAA;AAAA;AAK5CI,cAAAA,OAAO,CAACC,GAAR;;AAL4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAxB,CAAxB;AAUA,WAAOJ,eAAP;AACD,GAbQ,EAaN,EAbM,CAAT;;AAeA,MAAIF,SAAJ,EAAe;AACb,WAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAED,SACE,oBAAC,mBAAD;AAAqB,IAAA,KAAK,EAAER,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,IAAI,GAAG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAkB,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADzB,CADF;AAKD","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\n\nimport { auth } from '../components/Firebase/firebase';\nimport navigationTheme from './navigationTheme';\nimport AuthStack from './AuthStack';\nimport AppStack from './AppStack';\nimport { AuthUserContext } from './AuthUserProvider';\nimport Spinner from '../components/Spinner';\n\nexport default function Routes() {\n  const { user, setUser } = useContext(AuthUserContext);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    // onAuthStateChanged returns an unsubscriber\n    const unsubscribeAuth = auth.onAuthStateChanged(async authUser => {\n      try {\n        await (authUser ? setUser(authUser) : setUser(null));\n        setIsLoading(false);\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    // unsubscribe auth listener on unmount\n    return unsubscribeAuth;\n  }, []);\n\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <NavigationContainer theme={navigationTheme}>\n      {user ? <AppStack /> : <AuthStack />}\n    </NavigationContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}